
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="SUSE Rancher KB website alternative">
      
      
      
      
        <link rel="prev" href="../000020104/">
      
      
        <link rel="next" href="../000020106/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.11">
    
    
      
        <title>Best Practices Rancher - SUSE KBs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="light-green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#best-practices-rancher" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SUSE KBs" class="md-header__button md-logo" aria-label="SUSE KBs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SUSE KBs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Best Practices Rancher
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="light-green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="light-green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SUSE KBs" class="md-nav__button md-logo" aria-label="SUSE KBs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    SUSE KBs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Favorite Links
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Favorite Links
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.suse.com" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SUSE Website
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.suse.com/support/kb/?id=SUSE+Rancher" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SUSE Rancher KBs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.suse.com/lifecycle" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SUSE Product Lifecycle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.suse.com/suse-rancher/support-matrix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SUSE Rancher Support Matrix
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    KB Articles
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            KB Articles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000019957/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster controlplane error RHEL7 CentOS7 nodes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000019959/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How can I configure NetworkManager to ignore Kubernetes Interfaces?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020001/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can I configure tolerations for Alertnmanager with monitoring v1?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020002/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pods return to the Initializing status even though containers in the pod are running
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020003/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overlay connectivity broken after a node reboot until flannel is restarted
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020004/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    I have the alert 'Node Disk is Running Full in 24 hours', what does this mean?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020005/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bind on Port 80 Fails Due to Permissions in NGINX Ingress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020006/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Controlplane/Etcd nodes are stuck at provisioning for a new cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020007/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher Kubernetes Engine（RKE）のCLIまたはRancher v2.xのプロビジョニングされたKubernetesクラスタでCoreDNS ConfigMapを更新する方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020008/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to send logs to Amazon Web Services (AWS) CloudWatch with the new logging services available on Rancher v2.5.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020009/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable HA for Alertmanager in Rancher lanched Monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020010/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher v2.2.x - v2.4.xでクラスタとプロジェクトのMonitoring機能の使用状況分析レポートの外部送信を無効にする方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020011/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to check all ingresses from the NGINX ingress controller to all backend pods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020012/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to add a Grafana Dashboard for Logging v2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020013/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring a buffer with total_limit_size in Logging v2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020014/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting high ingress request times
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster wide vs Global registries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020016/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    kube-apiserver "socket: too many open files" error messages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020017/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to prevent NetworkManager from interfering with Kubernetes cluster networking interfaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to retrieve a kubeconfig from RKE v0.2.x+ or Rancher v2.2.x+
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to regenerate Service Account tokens in Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to improve DNS resolution performance inside a kubernetes cluster?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to configure expiry (TTL) on kubeconfig tokens in Rancher v2.4.6+
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable debug logging when using Terraform?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What do I need to provide to get started on Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What are the networking requirements for using Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020025/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can I use my own SSL/TLS certificates with Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020026/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is the difference between Project and Cluster Monitoring in Rancher v2.2 - v2.4?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020027/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why longhorn volume still shows more space than the actual size after deleting the content?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020028/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Does Rancher v2.x support two-factor (2FA) or multi-factor authentication (MFA)?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020029/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Missing container metrics in Rancher monitoring for AKS clusters in Rancher v2.2 - v2.4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020030/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    `Get secret: secrets "webhook-receiver" not found` errors observed in Rancher v2.4 and v2.5 server logs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020031/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to shutdown a Kubernetes cluster (Rancher Kubernetes Engine (RKE) CLI provisioned or Rancher v2.x Custom clusters)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020032/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to block specific user agents from connecting through the nginx ingress controller
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020033/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to remove and replace an unresponsive control plane / etcd node in the local Rancher server cluster, provisioned by the Rancher Kubernetes Engine (RKE) CLI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020034/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preventing LoadBalancer service traffic from flowing through control plane and etcd nodes in a Kubernetes cluster with the AWS Cloud Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020035/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable IPVS proxy mode for kube-proxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020036/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to check the default CoreDNS configmap of a Rancher Kubernetes Engine (RKE) Kubernetes version
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020037/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best practices for deploying Rancher v2.x and Rancher provisioned Kubernetes clusters in China
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020038/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable Envoy access logging in Rancher v2.3 and v2.4 deployed Istio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020039/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to collect a stacktrace from the Rancher server process in Rancher v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020040/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can I move from self-managed Rancher to Rancher Prime Hosted?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020041/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How can I validate network policies within a Kubernetes cluster?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020042/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher v2.x provisioned vSphere cluster nodes stuck in provisioning, with "Waiting for SSH to be available", as a result of pre-existing cloud-init configuration in VM Template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020043/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher v2.5 provisioned Kubernetes clusters, without a worker role node, display "Cluster health check failed: cluster agent is not ready" error
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020044/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher log forwarding to an Elasticsearch endpoint stops functioning as a result of connection reload behaviour in Rancher v2.3, prior to v2.3.8, and v2.4, prior to v2.4.4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020045/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How To Fix Hairpin Connectivity with IPVS enabled
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020046/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resolving "Conflict. The container name is already in use" errors when updating a Rancher Kubernetes Engine (RKE) CLI or Rancher v2.x provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020047/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to disable Calico Telemetry in a Kubernetes cluster with the Canal or Calico CNI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020048/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to increase the inotify.max_user_watches and inotify.max_user_instances sysctls on a Linux host
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020049/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to perform packet captures?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020050/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to migrate etcd data directory to a dedicated filesystem?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020051/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [JP] How to configure container log rotation for the Docker daemon
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020052/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to create a custom cluster role in Rancher v2.x to grant permission on the metrics endpoint of the kube-apiserver in a Rancher managed cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020053/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to scope a custom Tiller install to a Project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020054/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [JP] How to grant users access to Grafana with minimal permissions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020055/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable debug level logging for the kube-auth-api DaemonSet in Rancher v2.3+ provisioned Kubernetes clusters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020056/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Determine the Rancher Leader, in Rancher v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020057/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [JP] How to collect and share Rancher logs with Support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020058/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to change the kubelet root directory when provisioning a Kubernetes cluster with the Rancher Kubernetes Engine (RKE) CLI or Rancher v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020059/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Who creates user accounts on Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020061/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher Upgrade Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020062/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to rotate the Rancher SSL certificate with a single node Docker installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020063/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to increase the log level for Calico components in a Rancher Kubernetes Engine (RKE) or Rancher v2.x provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020064/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Rancher v2.x Windows log collector script
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020065/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    401 Unauthorized error using the Rancher2 Terraform Provider v1.4.0 with `access_key` and `secret_key` authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020066/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nginx-ingress-controller pods failing to load configuration with "client intended to send too large body" error in nginx-ingress-controller < nginx-0.32.0-rancher1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020067/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logs not forwarded by Rancher Logging in Rancher v2.x when Docker daemon logging driver is not set to json-file
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020068/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    "ERROR: XFS filesystem at /var has ftype=0, cannot use overlay backend" error messages logged by the Docker daemon upon daemon startup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020069/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [JP] How to troubleshoot using the namespace of a container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020070/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable support for use-forwarded-headers in ingress-nginx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020071/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable container log rotation with k3s or containerd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020072/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to create an RKE template and template revision using the Rancher2 Terraform Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020073/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to create a custom Project RBAC role to grant log access and exec permission on Pods, in a Rancher v2.x managed cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020074/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to troubleshoot HTTP 400 response codes from ingress-nginx ingresses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020075/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to increase the log level for Canal components in a Rancher Kubernetes Engine (RKE) or Rancher v2.x provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020076/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable legacy TLS versions for ingress-nginx in Rancher Kubernetes Engine (RKE) CLI and Rancher v2.x provisioned Kubernetes clusters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020077/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to disable Grafana usage analytics reporting for cluster and project monitoring in Rancher v2.2.x - v2.4.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020078/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to confirm a version upgrade of Rancher v2.x is completed successfully
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020079/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How Nginx Ingress calculates the worker_processes and worker_rlimit_nofile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020080/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How can I tell whether my app is installed with Helm v2 or Helm v3?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020081/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting - Nodes wont join cluster or show unavailable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020082/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to deploy Nginx instead of Traefik as your ingress controller on K3s
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020083/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to deploy the AWS EBS CSI driver on K3s
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020084/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to perform a rolling change to nodes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020085/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How is my Rancher Hosted Prime environment monitored?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020086/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How often is maintenance performed on Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020087/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Is it possible to have alpha, beta, or release candidate (RC) available on Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020088/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can the admin password be reset if I’m locked out of my Rancher Hosted Prime environment?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020089/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Who upgrades Kubernetes on my Rancher Hosted Prime downstream clusters?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020090/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can Rancher Hosted Prime manage my on-premise clusters running on VMWare or bare metal servers?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020091/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Is there any limit on the number of downstream clusters or nodes Rancher Hosted Prime can manage?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020092/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How often is Rancher Hosted Prime upgraded?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020093/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How is Rancher Hosted Prime different than the open-source Rancher I can download for free?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020094/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can I integrate Rancher Hosted Prime with my Active Directory, SAML, or LDAP based directory service?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020095/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Does Rancher Hosted Prime support multi-factor authentication (MFA)?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020096/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Do I have access to the "local" cluster in the management UI for my Rancher Hosted Prime environment?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020097/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What are the "-promoted" Cluster Roles in Rancher?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020098/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can Rancher migrate my helm2 app to helm3?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020099/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Loading the new Rancher Dashboard in an airgapped environment redirects to /fail-whale
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020100/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slow etcd performance (performance testing and optimization)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020101/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to create docker goroutine, and memory heap, dumps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020102/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Are API audit logs enabled in Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020103/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What information is stored in Rancher Hosted Prime and where is it stored?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020104/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filesystem actions in containers fail with `Too many levels of symbolic links`
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Best Practices Rancher
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Best Practices Rancher
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#situation" class="md-nav__link">
    <span class="md-ellipsis">
      Situation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      1. Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-separation-of-concerns" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Separation of concerns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 Separation of concerns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rancher-management-local-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Rancher management (local) cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downstream-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Downstream cluster
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-high-availability" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 High Availability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.3 High Availability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloud-provider" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud provider
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 Load balancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-proximity-and-latency" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 Proximity and latency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-datastore" class="md-nav__link">
    <span class="md-ellipsis">
      1.6 Datastore
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k3s-external-datastore" class="md-nav__link">
    <span class="md-ellipsis">
      k3s (external datastore)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rke-rke2-and-k3s-embedded-etcd" class="md-nav__link">
    <span class="md-ellipsis">
      RKE, RKE2 and k3s (embedded etcd)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RKE, RKE2 and k3s (embedded etcd)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rke" class="md-nav__link">
    <span class="md-ellipsis">
      RKE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rke2" class="md-nav__link">
    <span class="md-ellipsis">
      RKE2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-cidr-selection" class="md-nav__link">
    <span class="md-ellipsis">
      1.7 CIDR selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-authorized-cluster-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      1.8 Authorized cluster endpoint
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      2. Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-installing-rancher" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Installing Rancher
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-rancher-resources" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Rancher Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-chart-options" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Chart options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-supported-versions" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Supported versions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-recurring-snapshots-and-backups" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Recurring snapshots and backups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-provisioning" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Provisioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-managing-node-lifecycle" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Managing node lifecycle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-operating-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      3. Operating Kubernetes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Operating Kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-capacity-planning-and-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Capacity planning and Monitoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-probes" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Probes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-resources" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-os-limits" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 OS Limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-log-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 Log rotation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5 Log rotation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#containers" class="md-nav__link">
    <span class="md-ellipsis">
      Containers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#os" class="md-nav__link">
    <span class="md-ellipsis">
      OS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-dns-scalability" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 DNS scalability
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    <span class="md-ellipsis">
      Status
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020106/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What permissions are required to grant access to manage Cluster Logging in Rancher v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020107/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to pull the logs from the rancher-wins service on a Windows node in a Rancher v2.x provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020108/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable CoreDNS query logging in a Rancher Kubernetes Engine (RKE) CLI or Rancher v2.x provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020109/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to use External TLS Termination with AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020110/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can I Use Rancher 2.4 Dashboard Feature in Air-Gapped environment ?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020111/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kernel crash after "unregister_netdevice: waiting for lo to become free. Usage count"
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020112/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experimental Dashboard feature causes memory leak in rancher server and cattle-cluster-agent processes in Rancher v2.4.0 - v2.4.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020113/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging integration doesn't work if Docker Root is not default /var/lib/docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020114/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Error in driver during machine creation: Error launching instance: InvalidParameterValue: Invalid value 'r5.12xlarge ' for InstanceType.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020115/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to update the CoreDNS ConfigMap in a Rancher Kubernetes Engine (RKE) CLI or Rancher v2.x provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020116/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to run workloads on etcd or controlplane nodes, without the worker role, in a Rancher Kubernetes Engine (RKE) or Rancher v2.x provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020117/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to override DNS results served by CoreDNS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020118/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to monitor NTP on Linux nodes with Cluster Monitoring in Rancher v2.2.x+
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020119/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable NGINX support for HTTP headers with underscores
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020120/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable antiAffinity for Rancher v2.x server pods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020121/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to create a cluster in Rancher v2.x using the Rancher CLI or v3 API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020122/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to edit the upstream nameservers used by CoreDNS or kube-dns, in a Rancher Kubernetes Engine (RKE) or Rancher v2.x provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020123/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to change etcd cipher suite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020124/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to block external connectivity with Calico
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020125/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Enable Pod Presets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020126/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to use nginx /dbg
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020127/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Where is Rancher Hosted Prime hosted?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020128/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How is uptime measured for my Rancher Hosted Prime environment?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020129/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Does Rancher Hosted Prime offer an uptime SLA?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020130/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can I have more than one Rancher Hosted Prime environment?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020131/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Does Rancher Hosted Prime offer a support SLA?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020132/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How often are backups taken and retained on Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020133/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to configure the CoreDNS Autoscaler in a Rancher Kubernetes Engine (RKE) CLI or Rancher v2.x provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020134/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Do SUSE employees have a login account for my Rancher Hosted Prime environment?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020135/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Do SUSE employees have the credentials to my “admin” account?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020136/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What type of cluster is Rancher Hosted Prime running on?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020137/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why does `kubectl get` show a different API group for a resource to the group originally applied in the resource specification?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020138/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How can I audit or examine RBAC Roles for different accounts within a Kubernetes cluster?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020139/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is the kube_config_cluster.yml file that is created after provisioning a cluster with the Rancher Kubernetes Engine (RKE) CLI?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020140/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What permissions are required for the API token when configuring the Rancher2 Terraform Provider?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020141/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to configure container log rotation for the Docker daemon
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020142/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to configure an internal Elastic Load Balancer (ELB) or Network Load Balancer (NLB) with an Istio Ingress Gateway in Rancher v2.3+
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020143/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to set server-tokens to false, to disable the the NGINX header in ingress-nginx responses, within a Rancher Kubernetes Engine (RKE) CLI or Rancher v2.x provisioned cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020144/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable debug level logging for the Rancher Cluster/Project Alerting Alertmanager instance, in a Rancher v2.x managed cluster?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020145/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to generate a Longhorn Support Bundle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020146/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to add additional scrape configs to a Rancher cluster or project monitoring prometheus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020147/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable SSL passthrough on the nginx-ingress controller in Rancher Kubernetes Engine (RKE) CLI or Rancher v2.x provisioned Kubernetes clusters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020148/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Istio fails to deploy with restricted PodSecurityPolicy in Rancher v2.3 and v2.4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020149/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resolving conntrack table full error messages: 'nf_conntrack: table full, dropping packets'
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020150/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Does Rancher Hosted Prime provide downstream clusters?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020151/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to grant users access to Grafana with minimal permissions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020152/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating SSL cert in Rancher v2.x with the same CA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020154/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to troubleshoot SNI enabled endpoints with curl and openssl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020155/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020156/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can I move an existing Kubernetes cluster to Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020157/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Where are the links for Prometheus and Grafana in Rancher v2.x Cluster and Project Monitoring?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020158/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to use the calicoctl CLI in an RKE or Rancher provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020159/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to switch from private mirror to bundled system-charts in Rancher v2.3 and v2.4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020160/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to run multiple ingress controllers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020161/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why does the kubelet certificate still show as expired after performing a cluster certificate rotation in an Rancher Kubernetes Engine (RKE) CLI or Rancher v2.x provisioned cluster?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020162/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to clean a Rancher 2.x node
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020163/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to troubleshoot using the namespace of a container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020164/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to troubleshoot HTTP request performance with curl statistics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020165/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to recover an RKE v0.2.x, v0.3.x or v1.x.x cluster after restoration with an incorrect or missing rkestate file
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020166/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pod network connectivity non-functional as a result of sysctl net.ipv4.ip_forward=0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020167/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to setup your network CIDR for a large cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020168/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Update self signed certificate on single install of Rancher 2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020169/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to troubleshoot IPsec stability issues in a Rancher v1.6 cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020170/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to upgrade Docker using Rancher's install script
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020171/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Information to provide when logging a support case
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020172/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to setup Rancher 2.x with Active Directory external authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020173/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to change Rancher 2.x server-url
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020174/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to setup Nodelocal DNS cache with Rancher, RKE1 and RKE2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020175/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to setup HAProxy for Rancher v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020176/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to collect a trace and heap from nginx ingress
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020177/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to generate a HAR file
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020178/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to conduct CIS hardening benchmark scanning for Rancher v2.3.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020179/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to conduct performance testing with Clusterloader2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020180/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How do I edit my cluster using RKE Templates?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020181/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to configure Okta Auth with Rancher HA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020182/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher pre v1.6.22 "Hosts stuck Reconnecting" Rancher server logs show 'Cursor returned more than one result'
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020183/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Admins cannot edit or see node templates created by another user in Rancher v2.0.0-v2.3.2.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020184/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    When will my cluster certificates expire?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020185/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why does a cluster or node show requested memory with a milli (m) unit?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020186/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How To Update CoreDNS's Resolver Policy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020187/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to update your etcd space alerts for better etcd monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020188/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The RancherOS log collector script
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020189/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to test websocket connections to Rancher v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020190/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Rancher v1.6 log collector script
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020191/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Rancher v2.x Linux log collector script
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020192/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Rancher v2.x systems summary script
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020193/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is the process performed by Rancher v2.x when upgrading a Rancher managed Kubernetes cluster?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020194/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is the process performed during a Rancher v2.x upgrade and what is the impact to the managed downstream Kubernetes clusters?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020195/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to rollback the Kubernetes version of a Rancher v2.x provisioned cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020196/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP 401 "clusterID does not match" error using cluster-scoped Rancher API token in Rancher v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020197/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Provisioning of Kubernetes clusters in Rancher v2.x, prior to v2.3.3, using nodes in an infrastructure provider, does not respect NO_PROXY entries in CIDR format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020198/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Launching kubectl for cluster within Rancher UI fails in a cluster after following the CIS Benchmark Hardening Guide for Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020199/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to increase the log level of Kubernetes components in an RKE CLI or Rancher provisioned Kubernetes cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020200/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    In Rancher v2.x, prior to v2.3, nodes in Rancher provisioned clusters deleted via Kubernetes, instead of via Rancher, remain present in Rancher in an 'unavailable' state
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020201/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    "log unreadable. It is excluded and would be examined next time." warning messages, for kubelet and kube-proxy, in rancher-logging-fluentd Pod logs of worker nodes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020202/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Many rancher-agent containers running on Rancher v2.x provisioned Kubernetes cluster, where stopped containers are regularly deleted on hosts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020203/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Is it safe to update the Docker bridge IP range on hosts in an RKE or Rancher v2.x launched Kubernetes cluster?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020204/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Is it safe to disable inter-container connectivity (icc) on the Docker daemon in an RKE or Rancher v2.x launched Kubernetes cluster?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020205/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Users assigned the Project Owner or Member role on a project are able to create namespaces on any project, in the same cluster, to which they have access
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020206/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How does session management work in the Rancher v1.6 UI?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020207/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node labels and taints reset on reboot with AWS cloudprovider in Kubernetes lower than v1.12.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020208/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CronJobs fail to run in a Kubernetes v1.14 cluster, with more than 500 Job resources: "expected type *batchv1.JobList, got type *internalversion.List"
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020209/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to configure iptables on RancherOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020210/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RKE errors connecting to the Docker socket whilst updating clusters with the Aqua Enforcer deployed
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020211/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Editing Rancher launched Kubernetes cluster in infrastructure provider restricted to creating user
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020212/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blank provider listed for cluster when logged in as user who did not create cluster in Rancher v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020213/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to recover after deleting the Calico CRDs from a cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020214/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    'Error: snapshot missing hash but --skip-hash-check=false' when performing `rke etcd snapshort-restore` with .zip extension included in snapshot name
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020215/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to configure the Docker bridge IP range on RancherOS v1.5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020216/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    subPath does not work with hostPath volumes in Rancher v2.x or RKE CLI launched Kubernetes clusters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020217/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to install or upgrade to a specific Rancher v2.x version
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020218/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why are namespaces created via the kubectl CLI not assigned to a project?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020219/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    'SIGSEGV: segmentation violation' in prometheus container of the prometheus-project-monitoring-0 Pod when enabling Project monitoring on the System Project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020220/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Is it possible to migrate a Rancher launched Kubernetes cluster between Rancher instances?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020221/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Is it possible to update the Cluster (Pod) CIDR or Service CIDR for an RKE CLI or Rancher launched cluster post-provisioning?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020222/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    "fatal: could not read Username for 'http://host:port': No such device or address" error for pipeline Publish Catalog Template step in Rancher v2.2 when Git URL contains a port
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020223/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Groups assigned Project roles do not display under the Edit Project view in the Rancher v2.2.4 UI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020224/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster Logging (log forwarding) fails to deploy with restricted PodSecurityPolicy in Rancher v2.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020225/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to migrate from CentOS packaged to upstream Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020226/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to rotate certificates for clusters launched by RKE v0.1.x or Rancher v2.0.x and v2.1.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020227/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster and Project monitoring fail to deploy with restricted PodSecurityPolicy in Rancher v2.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020228/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    '[object Object]' error attempting to edit Load Balancing or Service Discovery resource YAMLs via the UI in Rancher v2.1.7 - v2.2.3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020229/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    No monitoring for etcd in the local Rancher cluster with cluster monitoring in Rancher v2.2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020230/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to collect and share Rancher logs with Support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020231/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network ingress traffic from 192.168.0.0/16 always SNAT'd in Kubernetes clusters with canal network provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020232/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Is it possible to perform etcd snapshots to an s3 endpoint with a certificate signed by a custom CA?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020233/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrade to Rancher v2.2.4 fails for instances managing OpenStack CloudProvider enabled clusters with a Loadbalancer config: 'cannot unmarshal number into Go value of type string'
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020234/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher 1.6.x - Rancher Server Tuning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020235/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher 1.6.x - Production Environment Sizing guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020236/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher 1.6.x - MySQL Config Tuning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020237/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher 2.1.x - CIS Kubernetes v1.3.0 Benchmark Self Assessment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020238/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher 2.1.x - Rancher Hardening Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020239/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to change the log level for Rancher v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020241/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Istio-init container fails to start when SElinux is enabled on RHEL 7.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020243/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can I receive an application backup of my SUSE Rancher Hosted environment if I decide not to renew at the end of my term?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020265/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node become NotReady state because of unhealthy PLEG
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020296/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] How do I change severity level on an open case?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020302/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to add custom labels to Alerts in Monitoring v2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020328/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    containerd.io 1.4.4 bug advisory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020350/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Streaming server stopped unexpectedly: listen tcp x.x.x.x:0: bind: cannot assign requested address
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020373/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to drain node from local node using docker command
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020415/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating roles in Rancher UI fails with certificate error
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020416/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downstream clusters flapping between available and unavailable state
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020430/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What is the difference between "stable" and "latest" release tags?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020431/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What does 'Developer Support" mean?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020432/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher Support FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020435/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What is "Full Support" vs "Limited Support"?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020436/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Will Rancher fix the specific product version that my deployment is on, should a bug be reported in that version?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020437/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Can Rancher Support validate our planned upgrade?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020438/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] We run a burst of high-profile events (e.g., big sale) that run as k8s workloads managed by Rancher. Can Rancher Support join our team remotely for the duration of these events?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020439/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] How much in advance do we need to notify Rancher Support on upgrades?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020440/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Can Rancher Support join me as I do my upgrade?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020441/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] We need help validating our deployment design and operational readiness, can Rancher Support help?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020442/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Can I run other, non-Rancher workloads on the same Kubernetes cluster that Rancher is installed on?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020443/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Could you help us understand the development and support status of RancherOS for 2020 and beyond?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020444/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Does my support subscription to Rancher include support for RancherOS?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020445/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Does Rancher support migration from single node installation to high availability installation?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020446/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Does Rancher Support cover single node installations?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020447/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] How should I understand the kubernetes patch version mentioned in the support matrix under Rancher Kubernetes for a specific Rancher product version?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020448/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Could you help us understand the Rancher approach to supporting specific k8s versions and how Rancher keeps up with new k8s releases?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020449/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] I plan to import my legacy k8s cluster into Rancher and having issues with my legacy cluster. Can Rancher Support help troubleshoot the issue?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020450/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Is Rancher Support only for RKE-provisioned clusters?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020451/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Will Rancher fix the issue and release a patch, if the problem is root-caused in Kubernetes?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020452/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] As part of a Rancher upgrade, do I need to upgrade my k8s cluster to a version listed in the support matrix for that Rancher version? If I do not, will the cluster continue to work fine as is? Will Rancher support this cluster?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020453/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What are the Kubernetes cloud providers supported by Rancher?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020454/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What about support for Harvester, Longhorn, Rancher Desktop, rio, k3s, k3os, Submariner, and Terraform Rancher2 Provider?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020456/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] How about support for ancillary projects, such as an API client, from Rancher Labs?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020457/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Does Rancher Support cover RKE (standalone CLI)?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020458/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] We have a few customizations with our on-premise deployment. For example, we run a forked version of the RKE OpenStack driver with new capabilities. Will Rancher Support cover such customizations?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020459/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Is there a way we can get our custom work be included into Rancher Support?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020460/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What language(s) is Rancher Support service offered in?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020461/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Besides English, we see many languages listed in the Rancher UI dropdown. Are they all covered by Rancher Support?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020462/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Will Rancher fix the issue and release a patch, if the problem is root-caused in Prometheus and Grafana?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020463/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Is support for Prometheus/Grafana available only with a valid support subscription for Rancher 2.x?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020464/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Does my Rancher Support cover Prometheus/Grafana deployments that did not originate from Rancher?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020465/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Will Rancher fix the issue and release a patch, if the problem is root-caused in Jenkins?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020466/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What is the nature of Rancher support for log aggregation services such as Elasticsearch, Splunk, Kafka, Syslog, Fluentd?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020467/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Will Rancher fix problems root-caused to be in nginx?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020468/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Will Rancher fix the issue and release a patch, if the problem is root-caused in one of the Rancher 2.x CNI plugin add-ons such as Weave, Cisco ACI, Cilium, and Calico?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020470/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Will Rancher fix the issue and release a patch, if the problem is root-caused in Flannel and Canal?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020471/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Will Rancher fix the issue and release a patch, if the problem is root-caused in Istio?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020472/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] We came across a mention of Fluentd as a software Rancher provides Support SLA on. Could you clarify what that covers?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020473/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Does Rancher include any 3rd party, commercial software components?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020474/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Is the Rancher software itself completely free (outside of the choice to add support or not add support)? Meaning if we choose no support, we can still run the same full features software?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020475/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] How would Rancher Support troubleshoot issues on systems where any external access is not allowed, for reasons of security and compliance?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020476/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] How (quickly) does Rancher respond to / resolve industry-reported vulnerabilities?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020477/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] We need to run Antivirus on our cluster nodes. Would that impact the terms of service of our Rancher Support SLA?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020478/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] We use components that are not listed in the Rancher support matrix. Would Rancher Support be not valid then?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020479/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] I see many included components listed in the Support Matrix. I plan to change the default configurations of one or more of these components. Would Rancher Support be not valid then?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020480/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What are the certified integrations with persistent volume plugins covered by Rancher Support?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020481/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What are the certified integrations with storage class provisioners covered by Rancher Support?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020482/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What are the certified integrations with authentication providers covered by Rancher Support?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020483/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Could you clarify what you generally mean by a "certified integration" to another software system or service?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020484/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What does Rancher support for Docker on Ubuntu cover?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020485/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Will Rancher support us should our deployment be on Red Hat Atomic?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020486/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What does Rancher support for Docker on RHEL cover?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020487/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What does Rancher support for Docker on CentOS cover?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020488/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Will Rancher fix the issue and release a patch, if the problem is root-caused in Docker on RHEL?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020489/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What does Rancher support for Docker on Windows Server cover?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020490/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What does Rancher support for Docker on Oracle Linux cover?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020491/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] My clusters run on OpenStack. I do not see OpenStack listed in your Support Matrix. Does my Rancher Support cover clusters that are run on OpenStack?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020492/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Does it matter what hardware my hosts are on? Are virtualized servers supported?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020493/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] I see node drivers tagged as "Built-in". What does that mean?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020494/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] I see some node drivers tagged as "Active" when I install Rancher. What does this mean?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020495/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Does my support subscription to Rancher include support for Longhorn?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020496/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Can we have a mix of unsupported and supported nodes at our choice/discretion?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020497/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Can we request support for the management/upstream cluster and certain downstream clusters and not others?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020498/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] How does Rancher track our license usage?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020499/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Is Rancher Support only for production environments?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020500/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] I procured a support subscription to 1 Rancher Management Server and a 20-node starter pack for my Production environment. Does my support subscription cover issues in my Dev/Test and Staging environments as well?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020501/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Our usage has exceeded the number of nodes for which we purchased a Rancher Support subscription. We now have an issue. Can we continue to get assistance from Rancher Support to troubleshoot and resolve the issue?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020502/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Could you illustrate the severity levels with subject lines of sample support cases?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020526/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security vulnerability: log4j remote code execution aka log4shell CVE-2021-44228
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020536/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Operational Advisory, 20201210: Related to deprecation of dockershim in Kubernetes v1.20
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020538/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Operational Advisory, 20220113: Related to removal of dockershim in Kubernetes v1.24
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020543/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Support Advisories
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020556/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher Prime Hosted FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020557/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Do you have a whitepaper available for Rancher Hosted Prime?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020558/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What can be expected during a Rancher Hosted Prime upgrade?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020559/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What if I no longer want Rancher Hosted Prime to manage my downstream clusters?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020561/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to connect your Rancher Hosted Prime network to your AWS transit gateway?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020562/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to make a VPN connection to your Rancher Hosted Prime network?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020563/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Can I get a copy of the Rancher API audit logs?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020630/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Operational Advisory, 20201105: Related to Docker Hub rate limits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020631/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] Product Lifecycle Advisory, 20220330: 2022 EOM/EOL dates for Rancher 2.4 and 2.5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020672/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to set multiple rules in the Rancher2 Terraform Provider Role Template resource
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020682/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Azure AD API Removal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020683/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    vSphere 6.7 EOL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020684/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows RKE1 EOL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020695/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to recover a cluster when all control plane nodes have failed
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020699/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to recreate rancher-webhook-tls secret if incorrectly deleted
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020710/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    After Rancher 2.6.x upgrade, HTTP 403 Errors in Rancher UI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020712/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Is it possible use mTLS for rancher agent connectivity?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020713/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Firewalld block rancher cluster dns: Weave CNI does not work with Firewalld on RHEL 8 based OSs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020721/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to test Rancher RC/Alpha versions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020727/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher upgrade FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020728/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collecte de journaux Linux Rancher v2.x
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020731/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tuning for nodes with a high number of CPUs allocated
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020733/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reduce Memory and CPU footprint of Prometheus Monitoring Operator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020750/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customize Helm Chart values for RKE2 default addons
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020767/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downstream Cluster not Available with Websockets failing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020771/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to create seperate ETCD and Controlplane nodes in RKE2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020786/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Restore fails with metadata.deletionGracePeriodSeconds: Invalid value: 0: field is immutable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020788/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to clean the orphaned cluster objects from the deleted cluster namespaces.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020803/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Restore k3s from MySQL dump
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020805/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher upgrade has failed with an error no matches for kind "Issuer" in version "cert-manager.io/v1alpha2"
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020821/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to re-add a Mater node to the RKE2 HA cluster once its removed from cluster.
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020831/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to troubleshoot Overlay Network Connectivity issues
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020834/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to define additional static pods on an RKE2 cluster node
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020895/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding tolerations to components in the Rancher Logging chart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020904/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Is it possible to change the CNI for a rke/rke2/k3s cluster or Rancher launched cluster post-provisioning?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020907/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cannot provision new RKE Cluster from Template: Unable to validate S3 backup target configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020909/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to enable fluent-bit debug logging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020910/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downstream clusters in unavailable state after upgrade from Rancher v2.5 at v2.5.16 or above to Rancher v2.6 below v2.6.7
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020917/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to fix Azure AD authenication errors when upgrading to new graph endpoint in Rancher v2.6.7+
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020946/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic troubleshooting steps for the Logging Operator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020949/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RKE2 cluster provisioning in Rancher with profile: cis-1.6, requires parameter protect-kernel-defaults to true
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020950/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Failed to handling tunnel request from remote address x.x.x.x:42412 (X-Forwarded-For: x.x.x.x): response 400: cluster not found
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020951/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding missing cAdvisor labels to k8s 1.24+
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020952/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interacting with the Rancher API using cURL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020976/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to configure the logging app to use Custom PVC volume for Fluentd buffers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020992/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collecting file logs with Host Tailer on the Loggin Operator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020994/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Restore the fleet-local namespace if it gets deleted accidently
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000020995/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes upgrade from v1.21.x to 1.22.x failing with error "does not recognize SELinux label"
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021006/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cattle Cluster Agent flapping with runtime error: slice bounds out of range [:3] with capacity 0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021053/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrading Your Rancher Downstream Clusters to Kubernetes v1.25
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021065/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to remove Kubernetes namespaces stuck in a Terminating state
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021083/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to define routes and matchers in AlertmanagerConfigs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021088/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get the list of available Kubernetes versions for RKE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021114/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recovering cluster.yml and cluster.rkestate files from kubeconfig - RKE clusters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021171/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enable kube-audit logs for downstream RKE2 clusters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021198/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher 2.7.6 login is disabled while migration is running
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021206/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring Rancher Backup to use GCP Cloud Storage as Remote Storage Location
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021213/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher upgrades fails with "resource mapping not found for name" error due to deprecated api version for a resource
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021220/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    [Rancher] What is "cattle-impersonation-system" for?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021242/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher Supportability Review - Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021247/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to use a Rancher debug image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021270/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cgroup "Misc controller" introduce instability in Kubelet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021273/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to set up a Fleet debug image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021284/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kube-proxy not upgrading correctly
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021286/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inability to attach/detach vSphere CNS block volumes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021299/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security Group behaviour in Rancher-provisioned EKS clusters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021301/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RKE2 OS Upgrade Process
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021302/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rancher pods in CrashLoopBackOff state with log messages "panic: indexer conflict: map[byPod:{}]" and "namespaces not found"
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021303/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is the correct amount of etcd nodes for my cluster?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021304/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recommendation against the use of --atomic flag for Rancher upgrades
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021309/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to set the maximum client body size for nginx ingress controller
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021310/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to collect Rancher Diagnostic Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021315/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    'Internal error occurred: failed calling webhook "validate.nginx.ingress.kubernetes.io"' error when upgrading Rancher immediately after performing a local cluster Kubernetes upgrade
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../000021334/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EMEA Support Business Hours for Rancher Prime
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#situation" class="md-nav__link">
    <span class="md-ellipsis">
      Situation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      1. Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Nodes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-separation-of-concerns" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Separation of concerns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 Separation of concerns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rancher-management-local-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Rancher management (local) cluster
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downstream-cluster" class="md-nav__link">
    <span class="md-ellipsis">
      Downstream cluster
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-high-availability" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 High Availability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.3 High Availability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloud-provider" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud provider
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 Load balancer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-proximity-and-latency" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 Proximity and latency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-datastore" class="md-nav__link">
    <span class="md-ellipsis">
      1.6 Datastore
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k3s-external-datastore" class="md-nav__link">
    <span class="md-ellipsis">
      k3s (external datastore)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rke-rke2-and-k3s-embedded-etcd" class="md-nav__link">
    <span class="md-ellipsis">
      RKE, RKE2 and k3s (embedded etcd)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RKE, RKE2 and k3s (embedded etcd)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rke" class="md-nav__link">
    <span class="md-ellipsis">
      RKE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rke2" class="md-nav__link">
    <span class="md-ellipsis">
      RKE2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-cidr-selection" class="md-nav__link">
    <span class="md-ellipsis">
      1.7 CIDR selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-authorized-cluster-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      1.8 Authorized cluster endpoint
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      2. Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-installing-rancher" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Installing Rancher
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-rancher-resources" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Rancher Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-chart-options" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Chart options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-supported-versions" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Supported versions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-recurring-snapshots-and-backups" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Recurring snapshots and backups
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-provisioning" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Provisioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-managing-node-lifecycle" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Managing node lifecycle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-operating-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      3. Operating Kubernetes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Operating Kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-capacity-planning-and-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Capacity planning and Monitoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-probes" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Probes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-resources" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Resources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-os-limits" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 OS Limits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-log-rotation" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 Log rotation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5 Log rotation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#containers" class="md-nav__link">
    <span class="md-ellipsis">
      Containers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#os" class="md-nav__link">
    <span class="md-ellipsis">
      OS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-dns-scalability" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 DNS scalability
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status" class="md-nav__link">
    <span class="md-ellipsis">
      Status
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disclaimer" class="md-nav__link">
    <span class="md-ellipsis">
      Disclaimer
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="best-practices-rancher">Best Practices Rancher</h1>
<p>This document <strong>(000020105)</strong> is provided subject to the <a href="#disclaimer">disclaimer</a> at the end of this document.</p>
<h3 id="situation">Situation</h3>
<p>This article aims to provide a number of checks that can be evaluated to ensure best practices are in place when planning, building or preparing a Rancher 2.x and Kubernetes environment.</p>
<h3 id="1-architecture">1. Architecture</h3>
<h4 id="11-nodes">1.1 Nodes</h4>
<p>Understanding workload resource needs in downstream clusters upfront can help choose an appropriate node configuration; some nodes may need different configurations; however, all nodes of the same role are generally configured the same.</p>
<p>Checks</p>
<p>Standardize on supported versions and ensure minimum requirements are met:</p>
<ul>
<li>Confirm the OS is covered in the <a href="https://www.suse.com/suse-rancher/support-matrix/all-supported-versions/">supported versions</a></li>
<li>Resource needs can vary based on cluster size and workload, however, in general, no less than 8GB of memory and 2 vCPUs is recommended</li>
<li>SSD storage is recommended, and should be considered a minimum requirement for server nodes, or nodes with the <code>etcd</code> role</li>
<li>Firewall rules allow connectivity for nodes ( <a href="https://rke.docs.rancher.com/os#ports">RKE,</a> <a href="https://docs.rke2.io/install/requirements#networking">RKE2</a>, <a href="https://rancher.com/docs/k3s/latest/en/installation/installation-requirements/#networking">k3s</a>)</li>
<li>A static IP for all nodes is required, if using DHCP, all nodes should have a reserved address</li>
<li>Swap is disabled on the nodes</li>
<li>Unique hostnames are used for every node within a cluster</li>
<li>NTP is enabled on the nodes</li>
</ul>
<h4 id="12-separation-of-concerns">1.2 Separation of concerns</h4>
<p>The Rancher management cluster should be dedicated to running the Rancher deployment, additional workloads added to the cluster can contend for resources and impact the performance and predictability of Rancher.</p>
<p>Applications that are part of the rancher catalog (e.g. rancher-monitoring, rancher-logging, neuvector, rancher-cis-benchmark) may be deployed into the Rancher Management Cluster as well, but it is important to ensure there are sufficient resources (cpu, memory, disk, network).</p>
<p>This is also important to consider in downstream clusters, the <a href="https://rancher.com/docs/rancher/v2.x/en/overview/concepts/#etcd-nodes">etcd</a> and <a href="https://rancher.com/docs/rancher/v2.x/en/overview/concepts/#controlplane-nodes">control plane</a> nodes (RKE), and <a href="https://rancher.com/docs/rancher/v2.x/en/overview/architecture-recommendations/#k3s-kubernetes-cluster-installations">server nodes</a> (RKE2/k3s) should be dedicated to the purpose. For large clusters it may also be appropriate that each node <a href="https://ranchermanager.docs.rancher.com/reference-guides/rancher-manager-architecture/architecture-recommendations#contrasting-rke-cluster-architecture-for-rancher-server-and-for-downstream-kubernetes-clusters">has a single role</a>, for example, separate nodes for the etcd and control plane roles.</p>
<p>Checks</p>
<p>Using the following commands on each cluster, check and confirm for any unexpected workloads running on the Rancher management cluster, or running on the server or etcd/control plane nodes of a downstream cluster.</p>
<h5 id="rancher-management-local-cluster">Rancher management (local) cluster</h5>
<ul>
<li>Check for any unexpected pods running in the cluster: <code>kubectl get pods --all-namespaces</code></li>
<li>Check for any single points of failure or discrepancies in OS, kernel and CRI version: <code>kubectl get nodes -o wide</code></li>
</ul>
<h5 id="downstream-cluster">Downstream cluster</h5>
<ul>
<li>Check for any unexpected pods running on server nodes:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span>n<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>nodes<span class="w"> </span>-l<span class="w"> </span>node-role.kubernetes.io/master<span class="o">=</span><span class="nb">true</span><span class="w"> </span>--no-headers<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span>-f1<span class="k">)</span>
<span class="w">  </span><span class="k">do</span>
<span class="w">    </span>kubectl<span class="w"> </span>get<span class="w"> </span>nodes<span class="w"> </span>--field-selector<span class="w"> </span>metadata.name<span class="o">=</span><span class="si">${</span><span class="nv">n</span><span class="si">}</span><span class="w"> </span>--no-headers
<span class="w">    </span>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>--all-namespaces<span class="w"> </span>-o<span class="w"> </span>wide<span class="w"> </span>--field-selector<span class="w"> </span>spec.nodeName<span class="o">=</span><span class="si">${</span><span class="nv">n</span><span class="si">}</span><span class="p">;</span><span class="w"> </span><span class="nb">echo</span>
<span class="k">done</span>
</code></pre></div>
<blockquote>
<p>Note: RKE does not use the node-role.kubernetes.io/master=true label used in the above command, the below commands select with labels in use by all distributions.</p>
</blockquote>
<ul>
<li>Check for any unexpected pods running on etcd nodes:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span>n<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>nodes<span class="w"> </span>-l<span class="w"> </span>node-role.kubernetes.io/etcd<span class="o">=</span><span class="nb">true</span><span class="w"> </span>--no-headers<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span>-f1<span class="k">)</span>
<span class="w">  </span><span class="k">do</span>
<span class="w">    </span>kubectl<span class="w"> </span>get<span class="w"> </span>nodes<span class="w"> </span>--field-selector<span class="w"> </span>metadata.name<span class="o">=</span><span class="si">${</span><span class="nv">n</span><span class="si">}</span><span class="w"> </span>--no-headers
<span class="w">    </span>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>--all-namespaces<span class="w"> </span>-o<span class="w"> </span>wide<span class="w"> </span>--field-selector<span class="w"> </span>spec.nodeName<span class="o">=</span><span class="si">${</span><span class="nv">n</span><span class="si">}</span><span class="p">;</span><span class="w"> </span><span class="nb">echo</span>
<span class="k">done</span>
</code></pre></div>
<ul>
<li>Check for any unexpected pods running on control plane nodes:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span>n<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>kubectl<span class="w"> </span>get<span class="w"> </span>nodes<span class="w"> </span>-l<span class="w"> </span>node-role.kubernetes.io/controlplane<span class="o">=</span><span class="nb">true</span><span class="w"> </span>--no-headers<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot; &quot;</span><span class="w"> </span>-f1<span class="k">)</span>
<span class="w">  </span><span class="k">do</span>
<span class="w">    </span>kubectl<span class="w"> </span>get<span class="w"> </span>nodes<span class="w"> </span>--field-selector<span class="w"> </span>metadata.name<span class="o">=</span><span class="si">${</span><span class="nv">n</span><span class="si">}</span><span class="w"> </span>--no-headers
<span class="w">    </span>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>--all-namespaces<span class="w"> </span>-o<span class="w"> </span>wide<span class="w"> </span>--field-selector<span class="w"> </span>spec.nodeName<span class="o">=</span><span class="si">${</span><span class="nv">n</span><span class="si">}</span><span class="p">;</span><span class="w"> </span><span class="nb">echo</span>
<span class="k">done</span>
</code></pre></div>
<h4 id="13-high-availability">1.3 High Availability</h4>
<p>Ensure nodes within a cluster are spread across separate failure boundaries where possible. This could mean VMs running on separate physical hosts, data centres, switches, storage pools, etc. If running in a cloud environment, instances in separate availability zones.</p>
<blockquote>
<p>For High Availability in Rancher, a <a href="https://ranchermanager.docs.rancher.com/pages-for-subheaders/install-upgrade-on-a-kubernetes-cluster">Kubernetes install</a> is required.</p>
</blockquote>
<p>Checks</p>
<ul>
<li>When deploying the Rancher management (local) cluster it is recommended to use the following configuration:</li>
</ul>
<table>
<thead>
<tr>
<th>Distribution</th>
<th>Recommendation</th>
</tr>
</thead>
<tbody>
<tr>
<td>RKE</td>
<td>3 nodes with all roles</td>
</tr>
<tr>
<td>RKE2</td>
<td>3 server nodes (all roles)</td>
</tr>
<tr>
<td>k3s (external datastore)</td>
<td>2 server nodes</td>
</tr>
<tr>
<td>k3s (embedded etcd)</td>
<td>3 server nodes (all roles)</td>
</tr>
</tbody>
</table>
<ul>
<li>Confirm the components of all clusters and external datastores (k3s) are satisfying minimum HA requirements:</li>
</ul>
<p>RKE / RKE2</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Minimum</th>
<th>Recommended</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>etcd nodes</td>
<td>3</td>
<td>3</td>
<td>To maintain quorum it is important to have an uneven # of nodes, and to provide tolerance for at least 1 node failure</td>
</tr>
<tr>
<td>control plane nodes</td>
<td>2</td>
<td>2</td>
<td>Allow tolerance for at least 1 node failure</td>
</tr>
<tr>
<td>worker nodes</td>
<td>2</td>
<td>N/A</td>
<td>Allow tolerance for at least 1 worker node failure, scale up to meet the workload needs</td>
</tr>
</tbody>
</table>
<p>k3s</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Minimum</th>
<th>Recommended</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>external datastore</td>
<td>2</td>
<td>2 or greater</td>
<td>(optional) The external datastore should provide failover to a standby using the <a href="https://docs.k3s.io/datastore#external-datastore-configuration-parameters">datastore-endpoint</a></td>
</tr>
<tr>
<td>server nodes</td>
<td>2</td>
<td>2 or greater</td>
<td>(external datastore) Allow tolerance for at least 1 server node failure</td>
</tr>
<tr>
<td>server nodes</td>
<td>3</td>
<td>3</td>
<td>(embedded etcd) To maintain quorum it is important to have an uneven # of nodes, and to provide tolerance for at least 1 node failure</td>
</tr>
<tr>
<td>agent nodes</td>
<td>2</td>
<td>N/A</td>
<td>Allow tolerance for at least 1 agent node failure, scale up to meet the workload needs</td>
</tr>
</tbody>
</table>
<blockquote>
<p>K3s allows for external (SQL) and embedded (etcd) datastore options, please refer to the appropriate notes in the table.</p>
</blockquote>
<h5 id="cloud-provider">Cloud provider</h5>
<p>The following commands can also be used with clusters configured with a cloud provider to review the instance type and availability zones of each node and identify any high availability concerns.</p>
<p><code>kubectl get nodes --show-labels</code></p>
<blockquote>
<p>Labels may not be available on all cloud providers.</p>
</blockquote>
<h4 id="14-load-balancer">1.4 Load balancer</h4>
<p>To provide a consistent endpoint for the Rancher management cluster, a load balancer is highly recommended to ensure the Rancher agents, UI, and API connectivity can effectively reach the Rancher deployment.</p>
<p>Checks</p>
<p>The load balancer is configured:</p>
<ul>
<li>Within close proximity of the Rancher management cluster to reduce latency</li>
<li>For high availability, with all Rancher management nodes configured as upstream targets</li>
<li>With a <a href="https://ranchermanager.docs.rancher.com/how-to-guides/new-user-guides/infrastructure-setup/amazon-elb-load-balancer#health-check-paths-for-nginx-ingress-and-traefik-ingresses">health check</a> to one of the following paths:</li>
</ul>
<table>
<thead>
<tr>
<th>Distribution</th>
<th>Health check path</th>
</tr>
</thead>
<tbody>
<tr>
<td>RKE</td>
<td><code>/healthz</code></td>
</tr>
<tr>
<td>RKE2</td>
<td><code>/healthz</code></td>
</tr>
<tr>
<td>k3s (traefik)</td>
<td><code>/ping</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p>A health check interval is generally recommended at 30 seconds or less</p>
</blockquote>
<h4 id="15-proximity-and-latency">1.5 Proximity and latency</h4>
<p>For performance reasons, it is recommended to avoid spreading cluster nodes over long distances and unreliable networks. For example, nodes could be in separate AZs in the same region, the same datacenter, or separate nearby data centres.</p>
<p>This is particularly important for <a href="https://rancher.com/docs/rancher/v2.x/en/cluster-provisioning/production/#networking">etcd nodes</a> which are sensitive to network latency, the RTT between etcd nodes in the cluster will determine the <a href="https://etcd.io/docs/v3.5/op-guide/performance/">minimum time to complete a commit</a>.</p>
<p>Checks</p>
<ul>
<li>Network latency and bandwidth is adequate between locations that the cluster nodes will be provisioned</li>
</ul>
<blockquote>
<p>A tool like <code>mtr</code> to gather connectivity statistics between locations over a long sample period can be useful to report on the packet loss and latency.</p>
<p>Generally latency between etcd nodes is <a href="https://etcd.io/docs/v3.5/tuning/">recommended at 5s or less</a></p>
</blockquote>
<h4 id="16-datastore">1.6 Datastore</h4>
<p>It is important to ensure that the chosen datastore is capable of handling requests inline with the workload of the cluster.</p>
<p>Allocation of resources, storage performance, and tuning of the datastore may be needed over time, this could be due to an increase in churn in a cluster, downstream clusters growing in size, or the number of downstream clusters Rancher is managing increases.</p>
<p>Checks</p>
<p>Confirm the recommended options are met for the distribution in use:</p>
<h4 id="k3s-external-datastore">k3s (external datastore)</h4>
<p>With an external datastore the general performance requirements include:</p>
<ul>
<li>SSD or similar storage <a href="https://ranchermanager.docs.rancher.com/pages-for-subheaders/installation-requirements#k3s-kubernetes">providing 1,000 IOPs or greater</a> performance</li>
<li>Datastore servers are assigned 2 vCPUs and 4GB memory or greater</li>
<li>A low latency connection to the datastore endpoint from all k3s server nodes</li>
</ul>
<blockquote>
<p><a href="https://docs.k3s.io/datastore">MySQL 5.7 is recommended</a>. If running in a cloud provider, you may wish to utilise a <a href="https://ranchermanager.docs.rancher.com/how-to-guides/new-user-guides/infrastructure-setup/mysql-database-in-amazon-rds">managed database service</a>.</p>
</blockquote>
<h4 id="rke-rke2-and-k3s-embedded-etcd">RKE, RKE2 and k3s (embedded etcd)</h4>
<p>To confirm the storage performance of etcd nodes is capable of handling the workload:</p>
<ul>
<li><a href="https://www.ibm.com/cloud/blog/using-fio-to-tell-whether-your-storage-is-fast-enough-for-etcd">A benchmark tool like <code>fio</code></a> can be used to accurately test the underlying disk for fsync latency. Alternatively, a basic self-test can be run on RKE and RKE2 with the respective commands below:</li>
</ul>
<h5 id="rke">RKE</h5>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-e<span class="w"> </span><span class="nv">ETCDCTL_ENDPOINTS</span><span class="o">=</span><span class="k">$(</span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>etcd<span class="w"> </span>/bin/sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;etcdctl member list | cut -d, -f5 | sed -e &#39;s/ //g&#39; | paste -sd &#39;,&#39;&quot;</span><span class="k">)</span><span class="w"> </span>etcd<span class="w"> </span>etcdctl<span class="w"> </span>check<span class="w"> </span>perf
</code></pre></div>
<h5 id="rke2">RKE2</h5>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">CRI_CONFIG_FILE</span><span class="o">=</span>/var/lib/rancher/rke2/agent/etc/crictl.yaml
<span class="nv">etcdcontainer</span><span class="o">=</span><span class="k">$(</span>/var/lib/rancher/rke2/bin/crictl<span class="w"> </span>ps<span class="w"> </span>--label<span class="w"> </span>io.kubernetes.container.name<span class="o">=</span>etcd<span class="w"> </span>--quiet<span class="k">)</span>
crictl<span class="w"> </span><span class="nb">exec</span><span class="w"> </span><span class="nv">$etcdcontainer</span><span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;ETCDCTL_CACERT=&#39;/var/lib/rancher/rke2/server/tls/etcd/server-ca.crt&#39; ETCDCTL_CERT=&#39;/var/lib/rancher/rke2/server/tls/etcd/server-client.crt&#39; ETCDCTL_KEY=&#39;/var/lib/rancher/rke2/server/tls/etcd/server-client.key&#39; ETCDCTL_API=3 etcdctl check perf</span>
</code></pre></div>
<ul>
<li>Nodes with the <code>etcd</code> role have SSD or similar storage providing high IOPs and low latency</li>
</ul>
<blockquote>
<p>On large downstream or Rancher environments, <a href="https://ranchermanager.docs.rancher.com/how-to-guides/advanced-user-guides/tune-etcd-for-large-installs">tuning etcd</a> may be needed, including adding dedicated disk for etcd.</p>
</blockquote>
<h4 id="17-cidr-selection">1.7 CIDR selection</h4>
<p>The cluster, node, and service CIDRs cannot be changed once a cluster is provisioned.</p>
<p>For this reason, it is important to future proof by reviewing the ranges to avoid routing overlaps with other areas of the network, and potential cluster IP exhaustion if the defaults are not suitable.</p>
<p>Checks</p>
<ul>
<li>The default CIDR ranges do not overlap with any area of the network that needs to be routable from clusters</li>
</ul>
<p>The default CIDRs are below which often don't need to be changed, to ensure the are no issues with routing from pods you may wish to adjust the range and/or mask when creating clusters ( <a href="https://rancher.com/docs/rke/latest/en/config-options/services/#kubernetes-controller-manager">RKE</a>, <a href="https://ranchermanager.docs.rancher.com/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration#cluster-cidr">RKE2</a>, <a href="https://docs.k3s.io/cli/server#networking">k3s</a>).</p>
<table>
<thead>
<tr>
<th>Network</th>
<th>Default CIDR</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cluster</td>
<td>10.42.0.0/16</td>
</tr>
<tr>
<td>Service</td>
<td>10.43.0.0/16</td>
</tr>
<tr>
<td>Node Mask</td>
<td>/24</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Reducing the CIDR mask can lower the number of IPs available and therefore total number of pods and services in the cluster, or on each node. In a large cluster, the CIDR ranges <a href="https://www.suse.com/support/kb/doc/?id=000020167">may need to be increased</a>.</p>
</blockquote>
<h4 id="18-authorized-cluster-endpoint">1.8 Authorized cluster endpoint</h4>
<p>At times connecting directly to a downstream cluster may be desired, this could be to reduce latency, avoid interruption if Rancher is unavailable, or avoid proxying the requests when a high frequency of API calls are expected - for example, external monitoring, automation or a CI/CD pipeline.</p>
<p>Checks</p>
<ul>
<li>Check for any use cases where an <a href="https://rancher.com/docs/rancher/v2.x/en/overview/architecture/#4-authorized-cluster-endpoint">authorized cluster endpoint</a> is needed</li>
</ul>
<p>Access <a href="https://rancher.com/docs/rancher/v2.x/en/cluster-admin/cluster-access/kubectl/#authenticating-directly-with-a-downstream-cluster">directly to the downstream cluster kube-apiserver</a> can be configured using the secondary context in the kubeconfig file.</p>
<h3 id="2-best-practices">2. Best Practices</h3>
<h4 id="21-installing-rancher">2.1 Installing Rancher</h4>
<p>It is highly encouraged to install Rancher on a Kubernetes cluster in an <a href="https://ranchermanager.docs.rancher.com/pages-for-subheaders/install-upgrade-on-a-kubernetes-cluster#kubernetes-cluster">HA configuration</a>.</p>
<p>When starting with a single node for the Rancher management (local) cluster, at the minimum it is highly recommended to install on a single node Kubernetes cluster to improve configuration and management of the Rancher environment.</p>
<blockquote>
<p>The intended use case of the <a href="https://ranchermanager.docs.rancher.com/pages-for-subheaders/rancher-on-a-single-node-with-docker">single node Docker install</a> is for short-lived testing environments, migration from a Docker to a Kubernetes install is not possible and will require <a href="https://ranchermanager.docs.rancher.com/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/migrate-rancher-to-new-cluster">migrating Rancher</a> to the new cluster using the Backup Operator.</p>
</blockquote>
<p>Checks</p>
<ul>
<li>Rancher is installed on a Kubernetes cluster, even if that is a single node cluster</li>
</ul>
<h4 id="22-rancher-resources">2.2 Rancher Resources</h4>
<p>The minimum resource requirements for nodes in the Rancher management (local) cluster need to scale to match the number of downstream clusters and nodes, this may change over time and need reviewing as changes occur in the environment.</p>
<p>Checks</p>
<ul>
<li>Verify that nodes in the Rancher management cluster meet at least the minimum requirements:</li>
</ul>
<table>
<thead>
<tr>
<th>Resource</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://ranchermanager.docs.rancher.com/pages-for-subheaders/installation-requirements#hardware-requirements">CPU/Memory</a></td>
</tr>
<tr>
<td><a href="https://ranchermanager.docs.rancher.com/getting-started/installation-and-upgrade/installation-requirements/port-requirements">Port requirements</a></td>
</tr>
</tbody>
</table>
<h4 id="23-chart-options">2.3 Chart options</h4>
<p>When installing the Rancher helm chart, the <a href="https://ranchermanager.docs.rancher.com/getting-started/installation-and-upgrade/installation-references/helm-chart-options">default options</a> may not always be the best fit for specific environments.</p>
<p>Checks</p>
<ul>
<li>
<p>The Rancher helm chart is installed with the desired options</p>
</li>
<li>
<p><code>replicas</code> - the default number of Rancher replicas ( <code>3</code>) may not suit your cluster, for example, a k3s cluster with an external datastore may only need a <code>replicas</code> value of <code>2</code> to ensure only one Rancher pod is running per k3s server node.</p>
</li>
</ul>
<blockquote>
<p>Note: it is generally recommended to not configure more than 3 Rancher replicas</p>
</blockquote>
<ul>
<li><code>antiAffinity</code> - the default <code>preferred</code> scheduling can mean Rancher pods become imbalanced during the lifetime of a cluster, using <code>required</code> can ensure Rancher is always scheduled on unique nodes</li>
</ul>
<blockquote>
<p>To confirm the options provided on an existing Rancher install, the following command can be used <code>helm get values rancher -n cattle-system</code></p>
</blockquote>
<h4 id="24-supported-versions">2.4 Supported versions</h4>
<p>When choosing or maintaining the components for Rancher and Kubernetes clusters the <a href="https://www.suse.com/suse-rancher/support-matrix/all-supported-versions/">product lifecycle and support matrix</a> can be used to ensure the versions and OS configurations are certified and maintained.</p>
<p>Checks</p>
<ul>
<li>Current Rancher, OS and Kubernetes versions are under maintenance and certified</li>
</ul>
<blockquote>
<p>As versions are a moving target, checking the current stable releases and planning for future upgrades on a schedule is recommended.</p>
<p>The <a href="https://www.suse.com/support/kb/doc/?id=000020061">Rancher Upgrade Checklist</a> can be a useful refresher when planning an upgrade.</p>
</blockquote>
<h4 id="25-recurring-snapshots-and-backups">2.5 Recurring snapshots and backups</h4>
<p>It is important to configure snapshots on a recurring schedule and store these externally to the cluster for disaster recovery.</p>
<p>Checks</p>
<ul>
<li>Recurring snapshots are configured for the distribution in use</li>
</ul>
<table>
<thead>
<tr>
<th>Distribution</th>
<th>Configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td>RKE</td>
<td>Confirm <a href="https://rke.docs.rancher.com/etcd-snapshots/recurring-snapshots">recurring snapshots</a> are enabled with an S3 compatible endpoint for off-node copies</td>
</tr>
<tr>
<td>RKE2</td>
<td>Confirm <a href="https://ranchermanager.docs.rancher.com/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration#automatic-snapshots">recurring snapshots</a> are enabled with an S3 compatible endpoint for off-node copies</td>
</tr>
<tr>
<td>k3s (embedded etcd)</td>
<td>Confirm <a href="https://docs.k3s.io/cli/etcd-snapshot#options">recurring snapshots</a> are enabled with an S3 compatible endpoint for off-node copies</td>
</tr>
<tr>
<td>k3s (external datastore)</td>
<td>Confirm <a href="https://docs.k3s.io/datastore/backup-restore#backup-and-restore-with-external-datastore">backups</a> on the external datastore are configured, this can differ depending on the chosen database</td>
</tr>
</tbody>
</table>
<blockquote>
<p>In addition to a recurring schedule, it's important to take one-time snapshots of etcd (RKE, RKE2 and k3s (embedded)) , or datastore (k3s) before and after significant changes.</p>
<p>The <a href="https://rancher.com/docs/rancher/v2.6/en/backups/">Rancher backup operator</a> can also be used on any distribution or hosted provider to backup the related objects that Rancher needs to function, this can be used to restore to a previous backup point or migrate Rancher between clusters.</p>
</blockquote>
<h4 id="26-provisioning">2.6 Provisioning</h4>
<p>Provisioning clusters, nodes and workloads for Rancher and downstream clusters in a repeatable and automated way can improve the supportability of Rancher and Kubernetes. When configuration is stored in source control it can also assist with auditing changes.</p>
<p>Checks</p>
<p>Consider the below points for the Application, Rancher and Kubernetes environments:</p>
<ul>
<li>Manifests and configuration data for application workloads are stored in source control, treated as the source of truth for all containerized applications and deployed to clusters</li>
<li>Infrastructure as Code for provisioning and configuration of Kubernetes clusters and workloads</li>
<li>CI/CD pipeline to automate deployments and configuration changes</li>
</ul>
<blockquote>
<p>The <a href="https://www.terraform.io/docs/providers/rancher2/index.html">rancher2 terraform provider</a> and <a href="https://www.pulumi.com/docs/reference/pkg/rancher2/">pulumi package</a> can be used to manage cluster provisioning and configuration as code with Rancher.</p>
<p>The <a href="https://registry.terraform.io/providers/hashicorp/helm/latest/docs">helm</a> and <a href="https://registry.terraform.io/providers/hashicorp/kubernetes/latest">kubernetes</a> providers for terraform can be useful to deploy and manage application workloads, similar packages are available for pulumi.</p>
</blockquote>
<h4 id="27-managing-node-lifecycle">2.7 Managing node lifecycle</h4>
<p>When making significant planned changes it is important to <a href="https://ranchermanager.docs.rancher.com/how-to-guides/new-user-guides/manage-clusters/nodes-and-node-pools#draining-a-node">drain nodes</a> that are being affected to avoid disrupting in-flight connections, such as restarting Docker, patching, shutting down or removing nodes.</p>
<p>For example, the <code>kube-proxy</code> component manages iptables rules on nodes to manage service endpoints, if a node is suddenly shutdown, stale endpoints and orphaned pods can be left in place for a period of time causing connectivity issues.</p>
<p>In some cases during an unplanned issue, draining can be automated, such as when a node may be terminated, restarted, or shutdown.</p>
<p>Checks</p>
<ul>
<li>A process is in place to drain before <a href="https://www.suse.com/support/kb/doc/?id=000020084">planned disruptive changes</a> are performed on a node</li>
<li>Where possible, node draining during the shutdown sequence is automated, for example, with a systemd or similar service</li>
</ul>
<h3 id="3-operating-kubernetes">3. Operating Kubernetes</h3>
<h4 id="31-capacity-planning-and-monitoring">3.1 Capacity planning and Monitoring</h4>
<p>It is recommended to measure resource usage of all clusters by <a href="https://ranchermanager.docs.rancher.com/pages-for-subheaders/monitoring-and-alerting">enabling monitoring</a> in Rancher, or your chosen solution. It is recommended to alert on critical resource thresholds and events in the cluster.</p>
<p>On supported platforms, <a href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler#deployment">Cluster Autoscaler</a> can be used to ensure the number of nodes is right-sized for shceduled workloads. Combining this with <a href="https://ranchermanager.docs.rancher.com/pages-for-subheaders/horizontal-pod-autoscaler">Horizontal Pod Autoscaler</a> provides both application and infrastructure scaling capabilities.</p>
<p>Checks</p>
<ul>
<li>Monitoring is enabled for the Rancher and downstream clusters</li>
<li><a href="https://ranchermanager.docs.rancher.com/reference-guides/monitoring-v2-configuration/receivers">A receiver is configured</a> to stay informed if an alarm or event occurs</li>
<li>A process for adding/removing nodes is established, automated if possible</li>
</ul>
<h4 id="32-probes">3.2 Probes</h4>
<p>In the defence against service and pod related failures, <a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/">liveness and readiness probes</a> are very useful, these can be in the form of HTTP requests, commands, or TCP connections.</p>
<p>Checks</p>
<ul>
<li>Liveness and Readiness probes are configured where necessary</li>
<li>Probes do not rely on the success of upstream dependencies, only the running application in the pod</li>
</ul>
<h4 id="33-resources">3.3 Resources</h4>
<p>Assigning resource <strong>requests</strong> to pods allows the <code>kube-scheduler</code> to make more informed placement decisions, avoiding the "bin packing" of pods onto nodes and resource contention. For CPU requests, this also allocates a share of CPU time based on the request when the node is under contention.</p>
<p><strong>Limits</strong> also offer value in the form of a safety net against pods consuming an undesired amount of resources. One caveat specific to CPU limits, these can introduce CPU throttling when over used.</p>
<p>Additionally, it can also be useful to <a href="https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/">reserve capacity</a> on nodes to prevent allocating resources that may be consumed by the kubelet and other system daemons, like Docker.</p>
<p>Checks</p>
<ul>
<li>Workloads define resource CPU and Memory <strong>requests</strong> where applicable, use CPU <strong>limits</strong> sparingly</li>
<li>Nodes have system and daemon reservations where necessary</li>
</ul>
<blockquote>
<p>When Rancher Monitoring is enabled, <a href="https://ranchermanager.docs.rancher.com/integrations-in-rancher/monitoring-and-alerting/rbac-for-monitoring#role-based-access-control-for-grafana">the graphs in Grafana</a>  can be used to find a baseline of CPU and Memory for resource requests</p>
</blockquote>
<h4 id="34-os-limits">3.4 OS Limits</h4>
<p>Containerized applications can consume high amounts of OS resources, such as open files, connections, processes, filesystem space and inodes.</p>
<p>Often the defaults are adequate; however, establishing a standardized image for all nodes can help establish a baseline for all configuration and tuning.</p>
<p>Checks</p>
<p>In general, the below can be used to confirm the OS limits allow for adequate headroom for the workloads</p>
<ul>
<li>File <a href="https://www.suse.com/support/kb/doc/?id=000020149">descriptor usage</a>: <code>cat /proc/sys/fs/file-nr</code></li>
<li>
<p>User ulimits: <code>ulimit -a</code>
Or, a particular process can be checked: <code>cat /proc/PID/limits</code></p>
</li>
<li>
<p>Conntrack limits:</p>
</li>
</ul>
<p><code>cat /proc/sys/net/netfilter/nf_conntrack_max</code></p>
<p><code>cat /proc/sys/net/netfilter/nf_conntrack_count</code></p>
<ul>
<li>Filesystem space and inode usage: <code>df -h</code> and <code>df -ih</code></li>
</ul>
<blockquote>
<p>Requirements for Linux can differ slightly depending on the distribution, refer to the requirements ( <a href="https://rke.docs.rancher.com/os#general-linux-requirements">RKE</a> , <a href="https://docs.rke2.io/install/requirements#operating-systems">RKE2</a> , <a href="https://docs.k3s.io/installation/requirements#architecture">k3s</a>) for more information.</p>
</blockquote>
<h4 id="35-log-rotation">3.5 Log rotation</h4>
<p>To prevent large log files from accumulating, it is recommended to rotate OS and container log files. Optionally <a href="https://ranchermanager.docs.rancher.com/pages-for-subheaders/logging">an external log service</a> can be used to stream logs off the nodes for a longer-term lifecycle and easier searching.</p>
<p>Checks</p>
<h5 id="containers">Containers</h5>
<ul>
<li>Log rotation is configured for the container logs</li>
<li>An external logging service is configured as needed</li>
</ul>
<p>To rotate container logs with RKE, configure log rotation in the <a href="https://www.suse.com/support/kb/doc/?id=000020141"><code>/etc/daemon.json</code> file</a> with a size and retention configuration.</p>
<p>The below can be used as an example for <a href="https://docs.rke2.io/install/configuration">RKE2</a> and <a href="https://docs.k3s.io/installation/configuration#configuration-file">k3s</a> in the config.yaml file, alternatively these can also be set directly when installing a standalone cluster <a href="https://www.suse.com/support/kb/doc/?id=000020071">using the install script</a>:</p>
<div class="highlight"><pre><span></span><code>kubelet-arg:
  - container-log-max-files=4
  - container-log-max-size=50Mi
</code></pre></div>
<ul>
<li>Log rotation is configured for the container logs</li>
<li>An external logging service is configured as needed</li>
</ul>
<h5 id="os">OS</h5>
<p>Rotation of log files on nodes is also important, especially if a long node lifecycle is expected.</p>
<h4 id="36-dns-scalability">3.6 DNS scalability</h4>
<p>DNS is a critical service running within the cluster, as CoreDNS pods are scheduled throughout the cluster, the service availability depends on the accessibility of all CoreDNS pods in the service.</p>
<p>This is where <a href="https://www.suse.com/support/kb/doc/?id=000020174">Nodelocal DNS cache</a> is recommended for clusters that may service a high amount of DNS requests, or clusters very senstive to DNS issues.</p>
<p>Checks</p>
<p>If a cluster has experienced a DNS issue, or is known to handle a high amount of DNS queries:</p>
<ul>
<li>Check the output of <code>conntrack -S</code> on related nodes.</li>
</ul>
<p>High amounts of the <code>insert_failed</code> counter can be indicative of a conntrack race condition, deploying <a href="https://www.suse.com/support/kb/doc/?id=000020174">Nodelocal DNS cache</a> is recommended to mitigate this.</p>
<h3 id="status">Status</h3>
<p>Top Issue</p>
<h3 id="disclaimer">Disclaimer</h3>
<p>This Support Knowledgebase provides a valuable tool for SUSE customers and parties interested in our products and solutions to acquire information, ideas and learn from one another. Materials are provided for informational, personal or non-commercial use within your organization and are presented "AS IS" WITHOUT WARRANTY OF ANY KIND.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["header.autohide", "navigation.tracking", "navigation.top", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>